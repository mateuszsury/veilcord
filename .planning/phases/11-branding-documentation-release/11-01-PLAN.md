---
phase: 11-branding-documentation-release
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/storage/paths.py
  - src/main.py
  - src/notifications/service.py
  - build.spec
  - frontend/package.json
  - frontend/index.html
autonomous: true

must_haves:
  truths:
    - "App window title shows 'Veilcord'"
    - "App data stored in %APPDATA%/Veilcord/"
    - "Windows notifications show 'Veilcord' in Action Center"
    - "Build produces Veilcord.exe"
    - "Crypto constants remain unchanged (backward compatibility)"
  artifacts:
    - path: "src/storage/paths.py"
      provides: "App data path %APPDATA%/Veilcord/"
      contains: "Veilcord"
    - path: "src/main.py"
      provides: "Window title"
      contains: "'Veilcord'"
    - path: "src/notifications/service.py"
      provides: "AUMID for notifications"
      contains: "Veilcord.SecureMessenger"
    - path: "build.spec"
      provides: "PyInstaller config"
      contains: "name='Veilcord'"
    - path: "frontend/package.json"
      provides: "Package name"
      contains: "veilcord-frontend"
    - path: "frontend/index.html"
      provides: "HTML title"
      contains: "<title>Veilcord</title>"
  key_links:
    - from: "build.spec"
      to: "dist/Veilcord/Veilcord.exe"
      via: "PyInstaller name parameter"
      pattern: "name='Veilcord'"
---

<objective>
Rebrand all user-facing application identifiers from "DiscordOpus" to "Veilcord".

Purpose: Transform the application identity to Veilcord while preserving cryptographic protocol identifiers that would break backward compatibility if changed.

Output: All user-visible branding updated, crypto constants preserved, build produces Veilcord.exe.
</objective>

<execution_context>
@C:\Users\thete\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\thete\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/11-branding-documentation-release/11-RESEARCH.md
@.planning/phases/11-branding-documentation-release/CLAUDE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Rebrand Python backend identifiers</name>
  <files>
    - src/storage/paths.py
    - src/main.py
    - src/notifications/service.py
  </files>
  <action>
Update user-facing identifiers in Python backend:

1. **src/storage/paths.py:**
   - Change `'DiscordOpus'` to `'Veilcord'` in get_app_data_dir() path
   - Update all docstrings mentioning "%APPDATA%/DiscordOpus/" to "%APPDATA%/Veilcord/"
   - Update module docstring header

2. **src/main.py:**
   - Change window title from `'DiscordOpus'` to `'Veilcord'`
   - Update module docstring from "DiscordOpus" to "Veilcord"
   - Change CustomEvent name from `'discordopus:update_available'` to `'veilcord:update_available'`

3. **src/notifications/service.py:**
   - Change AUMID from `"DiscordOpus.SecureMessenger"` to `"Veilcord.SecureMessenger"`
   - Update any docstrings mentioning DiscordOpus

**CRITICAL:** Do NOT modify any files in src/crypto/ - the byte string constants like `b"DiscordOpus_RootChain_v1"` are protocol identifiers and changing them would break all existing encrypted sessions.
  </action>
  <verify>
```bash
# Verify user-facing identifiers changed
grep -r "Veilcord" src/storage/paths.py src/main.py src/notifications/service.py

# Verify crypto constants preserved (should still find DiscordOpus in crypto)
grep -r "b\"DiscordOpus" src/crypto/ | head -5

# Verify no DiscordOpus left in renamed files (except comments about renaming)
grep -r "DiscordOpus" src/storage/paths.py src/main.py src/notifications/service.py | grep -v "from" | grep -v "was" || echo "Clean"
```
  </verify>
  <done>
    - paths.py uses %APPDATA%/Veilcord/
    - main.py window title is 'Veilcord'
    - main.py uses 'veilcord:update_available' event
    - AUMID is "Veilcord.SecureMessenger"
    - Crypto constants unchanged
  </done>
</task>

<task type="auto">
  <name>Task 2: Rebrand frontend and build configuration</name>
  <files>
    - frontend/package.json
    - frontend/index.html
    - build.spec
  </files>
  <action>
Update frontend package and build configuration:

1. **frontend/package.json:**
   - Change `"name": "discordopus-frontend"` to `"name": "veilcord-frontend"`

2. **frontend/index.html:**
   - Change `<title>DiscordOpus</title>` to `<title>Veilcord</title>`

3. **build.spec:**
   - Update module docstring from "DiscordOpus" to "Veilcord"
   - Change output comments from "dist/DiscordOpus/" to "dist/Veilcord/"
   - Change EXE `name='DiscordOpus'` to `name='Veilcord'`
   - Change COLLECT `name='DiscordOpus'` to `name='Veilcord'`
  </action>
  <verify>
```bash
# Verify frontend changes
grep "veilcord" frontend/package.json
grep "Veilcord" frontend/index.html

# Verify build.spec changes
grep "name='Veilcord'" build.spec
grep "dist/Veilcord" build.spec
```
  </verify>
  <done>
    - package.json name is "veilcord-frontend"
    - index.html title is "Veilcord"
    - build.spec produces Veilcord.exe in dist/Veilcord/
  </done>
</task>

<task type="auto">
  <name>Task 3: Update frontend event listeners</name>
  <files>
    - frontend/src/stores/updates.ts (or wherever update events are handled)
  </files>
  <action>
Search for and update any frontend code listening to 'discordopus:*' events:

```bash
# Find all discordopus event references
grep -r "discordopus:" frontend/src/
```

For each file found:
- Change `'discordopus:update_available'` to `'veilcord:update_available'`
- Change any other `discordopus:` prefixed events to `veilcord:`

If no files found, this task is complete (events may be handled generically).
  </action>
  <verify>
```bash
# Should find no discordopus references in frontend
grep -r "discordopus:" frontend/src/ || echo "Clean - no discordopus events found"

# Should find veilcord references if events were renamed
grep -r "veilcord:" frontend/src/ || echo "No veilcord events (may be unused)"
```
  </verify>
  <done>
    - All frontend event listeners use 'veilcord:' prefix
    - No 'discordopus:' references remain in frontend
  </done>
</task>

</tasks>

<verification>
1. All user-facing strings changed to "Veilcord"
2. Crypto constants in src/crypto/ unchanged (still contain "DiscordOpus")
3. Build configuration points to Veilcord output
4. Frontend package and title updated
5. Event names updated throughout
</verification>

<success_criteria>
1. Window title shows "Veilcord" when app runs
2. App data would be stored in %APPDATA%/Veilcord/
3. Notifications would show "Veilcord.SecureMessenger" in Action Center
4. PyInstaller build produces dist/Veilcord/Veilcord.exe
5. Existing encrypted data would still work (crypto constants preserved)
</success_criteria>

<output>
After completion, create `.planning/phases/11-branding-documentation-release/11-01-SUMMARY.md`
</output>
